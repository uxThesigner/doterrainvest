<!DOCTYPE html>
<html lang="pt-br" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DoTerra - O Marketplace do Agro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        agro: { 500: '#16a34a', 600: '#15803d', 900: '#052e16' },
                        terra: { 500: '#D69E2E', 600: '#B7791F' },
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'] }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #F3F4F6; }
        .hero-bg {
            background-image: url('https://images.unsplash.com/photo-1625246333195-58197bd47d72?q=80&w=1920&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        @keyframes pulse-custom {
            0%, 100% { box-shadow: 0 0 0 0 rgba(22, 163, 74, 0.7); }
            50% { box-shadow: 0 0 0 15px rgba(22, 163, 74, 0); }
        }
        .btn-pulse { animation: pulse-custom 2s infinite; }
        
        .search-tab.active { border-bottom: 4px solid #16a34a; color: #16a34a; font-weight: 800; }
        .search-tab { color: #64748b; font-weight: 600; cursor: pointer; padding-bottom: 12px; transition: all 0.2s; }

        .fade-in-step { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Estilo para Radio Button parecer bot√£o */
        .radio-btn:checked + label {
            background-color: #16a34a;
            color: white;
            border-color: #16a34a;
        }
    </style>
</head>
<body class="text-slate-800 flex flex-col min-h-screen">

    <nav class="bg-white h-20 border-b border-gray-200 fixed w-full z-50 top-0 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 h-full flex justify-between items-center">
            <div class="flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                <i class="fas fa-leaf text-agro-600 text-3xl"></i>
                <div>
                    <h1 class="text-2xl font-black text-slate-900 leading-none tracking-tighter">DoTerra</h1>
                    <p class="text-[10px] font-bold text-terra-600 uppercase tracking-widest">Marketplace</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <button onclick="openAnuncioModal()" class="hidden md:flex items-center gap-2 text-slate-600 font-bold hover:text-agro-600 transition">
                    <i class="far fa-edit"></i> Vender
                </button>
                <a href="login.html" class="hidden md:flex items-center gap-2 text-slate-600 font-bold hover:text-agro-600 transition">
                    <i class="far fa-user-circle text-xl"></i> Entrar
                </a>
                <button onclick="toggleMenu()" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 text-slate-800 transition">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
    </nav>

    <div id="sideMenu" class="fixed inset-y-0 right-0 z-[60] w-80 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col">
        <div class="h-20 flex items-center justify-between px-6 border-b border-gray-100 bg-slate-50">
            <span class="font-bold text-slate-400">MENU</span>
            <button onclick="toggleMenu()" class="text-slate-400 hover:text-red-500"><i class="fas fa-times text-xl"></i></button>
        </div>
        <div class="p-4 space-y-2">
            <a href="login.html" class="block w-full bg-agro-600 text-white font-bold text-center py-3 rounded-lg shadow-md mb-4"><i class="fas fa-lock mr-2"></i> √Årea do Cliente / Login</a>
            <a href="#" onclick="toggleMenu(); window.scrollTo(0,0)" class="flex items-center p-3 hover:bg-gray-50 rounded-lg font-bold text-slate-700"><i class="fas fa-search w-8 text-terra-500"></i> Comprar</a>
            <a href="#" onclick="toggleMenu(); openAnuncioModal()" class="flex items-center p-3 hover:bg-gray-50 rounded-lg font-bold text-slate-700"><i class="fas fa-tag w-8 text-terra-500"></i> Vender</a>
            <a href="#" onclick="toggleMenu(); openSimulator()" class="flex items-center p-3 hover:bg-gray-50 rounded-lg font-bold text-slate-700"><i class="fas fa-calculator w-8 text-terra-500"></i> Simular Cons√≥rcio</a>
        </div>
    </div>
    <div id="menuOverlay" onclick="toggleMenu()" class="fixed inset-0 bg-black/60 z-[55] hidden transition-opacity opacity-0 backdrop-blur-sm"></div>

    <div class="relative pt-20 pb-12 bg-white">
        <div class="absolute inset-x-0 top-0 h-[350px] hero-bg">
            <div class="absolute inset-0 bg-gradient-to-b from-black/60 to-black/30"></div>
        </div>

        <div class="relative z-10 max-w-7xl mx-auto px-4 mt-8">
            <h2 class="text-white text-2xl md:text-4xl font-extrabold mb-6 text-center drop-shadow-md">
                O jeito seguro de comprar e vender no Agro.
            </h2>

            <div class="bg-white rounded-lg shadow-2xl p-2 max-w-4xl mx-auto">
                <div class="flex border-b border-gray-200 px-4">
                    <div onclick="activateTab(this, 'buy')" class="search-tab active px-4 pt-4 border-b-4 border-agro-600 text-agro-700 flex items-center gap-2">
                        <i class="fas fa-shopping-cart"></i> Comprar
                    </div>
                    <div onclick="openAnuncioModal()" class="search-tab px-4 pt-4 hover:text-slate-800 flex items-center gap-2 cursor-pointer">
                        <i class="fas fa-tag"></i> Vender
                    </div>
                    <div onclick="openSimulator()" class="search-tab px-4 pt-4 hover:text-slate-800 flex items-center gap-2 text-agro-600 font-bold">
                        <i class="fas fa-calculator"></i> Simular
                    </div>
                </div>

                <div class="p-4 md:p-6 bg-white rounded-b-lg">
                    <div class="grid grid-cols-1 md:grid-cols-12 gap-3">
                        <div class="md:col-span-6 relative">
                            <i class="fas fa-search absolute left-4 top-4 text-gray-400"></i>
                            <input type="text" placeholder="Digite marca, modelo ou tipo..." class="w-full pl-10 pr-4 py-3.5 border border-gray-300 rounded-lg font-bold text-slate-700 focus:ring-2 focus:ring-agro-500 outline-none">
                        </div>
                        <div class="md:col-span-4 relative">
                            <i class="fas fa-map-marker-alt absolute left-4 top-4 text-gray-400"></i>
                            <input type="text" placeholder="Localiza√ß√£o" class="w-full pl-10 pr-4 py-3.5 border border-gray-300 rounded-lg font-medium text-slate-700 focus:ring-2 focus:ring-agro-500 outline-none">
                        </div>
                        <button class="md:col-span-2 bg-agro-600 hover:bg-agro-700 text-white font-black uppercase text-lg rounded-lg py-3 shadow-lg transition transform active:scale-95 flex items-center justify-center">
                            Buscar
                        </button>
                    </div>
                    <div class="flex gap-4 mt-4 text-sm font-semibold text-slate-600 overflow-x-auto no-scrollbar">
                        <label class="flex items-center gap-2 cursor-pointer whitespace-nowrap"><input type="checkbox" class="rounded text-agro-600 focus:ring-agro-500" checked> Novos</label>
                        <label class="flex items-center gap-2 cursor-pointer whitespace-nowrap"><input type="checkbox" class="rounded text-agro-600 focus:ring-agro-500" checked> Usados</label>
                        <label class="flex items-center gap-2 cursor-pointer whitespace-nowrap"><input type="checkbox" class="rounded text-agro-600 focus:ring-agro-500"> Financiados</label>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-4 md:grid-cols-8 gap-4 mt-8 max-w-4xl mx-auto text-center">
                <a href="#" class="group flex flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-tractor text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Tratores</span></a>
                <a href="#" class="group flex flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-truck-pickup text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Picapes</span></a>
                <a href="#" class="group flex flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-wheat text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Terras</span></a>
                <a href="#" class="group flex flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-home text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Im√≥veis</span></a>
                <a href="#" class="hidden md:flex group flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-truck-moving text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Caminh√µes</span></a>
                <a href="#" class="hidden md:flex group flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-cow text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Gado</span></a>
                <a href="#" class="hidden md:flex group flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-solar-panel text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Solar</span></a>
                <a href="#" class="hidden md:flex group flex-col items-center gap-2"><div class="w-14 h-14 rounded-full bg-white shadow-md flex items-center justify-center text-slate-600 group-hover:text-agro-600 transition border border-gray-100"><i class="fas fa-ellipsis-h text-2xl"></i></div><span class="text-xs font-bold text-slate-600">Ver Mais</span></a>
            </div>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <div class="bg-gradient-to-r from-agro-900 to-agro-600 rounded-2xl p-8 md:p-12 text-white flex flex-col md:flex-row items-center justify-between shadow-xl relative overflow-hidden">
            <div class="absolute right-0 top-0 h-full w-1/2 bg-white/5 skew-x-12 transform origin-bottom-right"></div>
            <div class="relative z-10 mb-6 md:mb-0">
                <span class="bg-terra-500 text-slate-900 text-xs font-black px-2 py-1 rounded uppercase tracking-wide">Feir√£o Digital</span>
                <h3 class="text-3xl font-black mt-2">Taxas reduzidas para M√°quinas Agr√≠colas</h3>
                <p class="text-agro-100 mt-2">Aproveite condi√ß√µes exclusivas do plano safra.</p>
            </div>
            <button onclick="openSimulator()" class="relative z-10 bg-white text-agro-900 px-8 py-3 rounded-lg font-black hover:bg-gray-100 transition shadow-lg">Simular Agora</button>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <h2 class="text-2xl font-bold text-slate-800 mb-6">Destaques Recentes</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition border border-gray-200 group cursor-pointer">
                <div class="h-48 relative overflow-hidden rounded-t-lg"><img src="https://images.unsplash.com/photo-1595841696677-6489ff3f8cd1?q=80&w=500" class="w-full h-full object-cover group-hover:scale-105 transition duration-500"><span class="absolute bottom-2 left-2 bg-slate-900/80 text-white text-xs font-bold px-2 py-1 rounded">Rond√¥nia</span></div>
                <div class="p-4"><p class="text-xs text-slate-500 uppercase font-bold mb-1">Maquin√°rio</p><h3 class="text-base font-bold text-slate-900 truncate">Trator Valtra A950 4x4</h3><p class="text-slate-500 text-xs mb-3">2021 ‚Ä¢ 1.200h</p><p class="text-2xl font-black text-agro-600">R$ 285.000</p><p class="text-xs text-terra-600 font-bold mt-1">Cons√≥rcio: parc. R$ 3.100</p></div>
            </div>
            <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition border border-gray-200 group cursor-pointer">
                <div class="h-48 relative overflow-hidden rounded-t-lg"><img src="https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=500" class="w-full h-full object-cover group-hover:scale-105 transition duration-500"><span class="absolute bottom-2 left-2 bg-slate-900/80 text-white text-xs font-bold px-2 py-1 rounded">Ji-Paran√°</span></div>
                <div class="p-4"><p class="text-xs text-slate-500 uppercase font-bold mb-1">Ve√≠culo</p><h3 class="text-base font-bold text-slate-900 truncate">Toyota Hilux SRX Diesel</h3><p class="text-slate-500 text-xs mb-3">2024 ‚Ä¢ 0km</p><p class="text-2xl font-black text-agro-600">R$ 340.000</p><p class="text-xs text-terra-600 font-bold mt-1">Carta de Cr√©dito Dispon√≠vel</p></div>
            </div>
            <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition border border-gray-200 group cursor-pointer">
                <div class="h-48 relative overflow-hidden rounded-t-lg"><img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=500" class="w-full h-full object-cover group-hover:scale-105 transition duration-500"><span class="absolute bottom-2 left-2 bg-slate-900/80 text-white text-xs font-bold px-2 py-1 rounded">Porto Velho</span></div>
                <div class="p-4"><p class="text-xs text-slate-500 uppercase font-bold mb-1">Fazenda</p><h3 class="text-base font-bold text-slate-900 truncate">Fazenda Santa F√©</h3><p class="text-slate-500 text-xs mb-3">500 Hec ‚Ä¢ Pecu√°ria</p><p class="text-2xl font-black text-agro-600">R$ 4.500.000</p><p class="text-xs text-slate-400 font-bold mt-1">Sob Consulta</p></div>
            </div>
            <div onclick="openAnuncioModal()" class="bg-slate-100 rounded-lg border-2 border-dashed border-slate-300 flex flex-col items-center justify-center p-6 text-center cursor-pointer hover:bg-slate-200 transition h-full min-h-[340px]">
                <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-4"><i class="fas fa-plus text-2xl text-agro-600"></i></div><h3 class="text-lg font-bold text-slate-700">Quer vender r√°pido?</h3><p class="text-sm text-slate-500 mt-2 mb-4">Anuncie para milhares de compradores.</p><button class="text-agro-600 font-black text-sm uppercase hover:underline">Criar An√∫ncio</button>
            </div>
        </div>
        <div class="text-center mt-10">
            <button class="bg-white border border-gray-300 text-slate-700 font-bold py-3 px-10 rounded-full hover:bg-gray-50 transition shadow-sm">Carregar mais ofertas</button>
        </div>
    </div>

    <div id="anuncie" class="bg-white py-16 border-t border-gray-200">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-3xl font-black text-slate-900 mb-4">Venda seu ativo na DoTerra</h2>
            <p class="text-slate-600 mb-8 max-w-2xl mx-auto">Milhares de produtores acessam nossa plataforma todos os dias. A melhor vitrine para o seu neg√≥cio.</p>
            <div class="flex justify-center gap-4">
                <button onclick="openAnuncioModal()" class="bg-terra-500 hover:bg-terra-600 text-slate-900 px-8 py-4 rounded-lg font-black shadow-lg transition">Anunciar Gr√°tis</button>
                <button class="bg-slate-100 hover:bg-slate-200 text-slate-700 px-8 py-4 rounded-lg font-bold transition">Ver Planos</button>
            </div>
        </div>
    </div>

    <div id="modalAnuncio" class="fixed inset-0 z-[100] hidden">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeAnuncioModal()"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-white w-full max-w-3xl rounded-2xl shadow-2xl relative animate-slide-up flex flex-col max-h-[90vh]">
                
                <div class="flex justify-between items-center p-6 border-b border-gray-100">
                    <div>
                        <h3 class="text-xl font-black text-slate-900">O que voc√™ vai anunciar?</h3>
                        <p class="text-sm text-slate-500">Preencha os detalhes para vender mais r√°pido.</p>
                    </div>
                    <button onclick="closeAnuncioModal()" class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-red-100 hover:text-red-500 transition"><i class="fas fa-times text-lg"></i></button>
                </div>

                <div class="p-6 overflow-y-auto custom-scrollbar flex-1">
                    
                    <div class="mb-8">
                        <label class="block text-sm font-bold text-slate-700 mb-3">Fotos do An√∫ncio (M√°x 10)</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 p-8 text-center cursor-pointer hover:border-agro-500 hover:bg-agro-50 transition group">
                            <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 group-hover:text-agro-600 mb-2 transition"></i>
                            <p class="font-bold text-slate-600">Clique para adicionar fotos</p>
                            <p class="text-xs text-gray-400">ou arraste os arquivos aqui</p>
                        </div>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-bold text-slate-700 mb-2">Categoria Principal *</label>
                        <select id="anuncioCategoria" onchange="updateFormFields()" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-agro-500 outline-none font-semibold text-slate-700">
                            <option value="" disabled selected>Selecione o tipo de bem...</option>
                            <option value="veiculo">üöó Ve√≠culo / Caminhonete</option>
                            <option value="maquina">üöú Maquin√°rio Pesado</option>
                            <option value="imovel">üåæ Fazenda / S√≠tio / Terra</option>
                            <option value="gado">üêÑ Gado / Pecu√°ria</option>
                        </select>
                    </div>

                    <div class="space-y-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">T√≠tulo do An√∫ncio *</label>
                            <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-agro-500 outline-none" placeholder="Ex: Trator Valtra A950 4x4 Cabinado">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Pre√ßo (R$) *</label>
                                <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-agro-500 outline-none font-bold" placeholder="0,00">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Localiza√ß√£o *</label>
                                <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-agro-500 outline-none" placeholder="Cidade - UF">
                            </div>
                        </div>
                    </div>

                    <div id="dynamicFields" class="mt-6 pt-6 border-t border-gray-100">
                        
                        <div id="fieldCondition" class="hidden mb-6">
                            <label class="block text-sm font-bold text-slate-700 mb-3">Condi√ß√£o</label>
                            <div class="flex gap-3">
                                <input type="radio" name="condicao" id="condNovo" class="hidden radio-btn">
                                <label for="condNovo" class="flex-1 py-2 text-center border border-gray-300 rounded-lg font-bold text-sm cursor-pointer hover:bg-gray-50 transition">Novo</label>
                                
                                <input type="radio" name="condicao" id="condSeminovo" class="hidden radio-btn">
                                <label for="condSeminovo" class="flex-1 py-2 text-center border border-gray-300 rounded-lg font-bold text-sm cursor-pointer hover:bg-gray-50 transition">Seminovo</label>
                                
                                <input type="radio" name="condicao" id="condUsado" class="hidden radio-btn">
                                <label for="condUsado" class="flex-1 py-2 text-center border border-gray-300 rounded-lg font-bold text-sm cursor-pointer hover:bg-gray-50 transition">Usado</label>
                            </div>
                        </div>

                        <div id="fieldsVeiculo" class="hidden grid grid-cols-2 gap-4">
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Ano Modelo</label><input type="number" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Ex: 2024"></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Quilometragem</label><input type="number" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Km"></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Combust√≠vel</label><select class="w-full p-3 border border-gray-300 rounded-lg outline-none"><option>Diesel</option><option>Flex</option><option>Gasolina</option></select></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">C√¢mbio</label><select class="w-full p-3 border border-gray-300 rounded-lg outline-none"><option>Autom√°tico</option><option>Manual</option></select></div>
                        </div>

                        <div id="fieldsMaquina" class="hidden grid grid-cols-2 gap-4">
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Ano Fabrica√ß√£o</label><input type="number" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Ex: 2020"></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Horas de Uso</label><input type="number" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Horas"></div>
                            <div class="col-span-2"><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Marca / Modelo</label><input type="text" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Ex: John Deere, Valtra..."></div>
                        </div>

                        <div id="fieldsImovel" class="hidden grid grid-cols-2 gap-4">
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">√Årea Total</label><input type="text" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Hectares / Alqueires"></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">√Årea Aberta</label><input type="text" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Hectares"></div>
                            <div class="col-span-2"><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Documenta√ß√£o</label><select class="w-full p-3 border border-gray-300 rounded-lg outline-none"><option>Escriturada</option><option>Posse</option><option>GEO/CAR em andamento</option></select></div>
                        </div>

                        <div id="fieldsGado" class="hidden grid grid-cols-2 gap-4">
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Quantidade (Cabe√ßas)</label><input type="number" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Qtd"></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Peso M√©dio (@)</label><input type="text" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Arrobas"></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Era / Idade</label><input type="text" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Ex: 24 meses"></div>
                            <div><label class="block text-xs font-bold text-slate-500 uppercase mb-1">Ra√ßa</label><input type="text" class="w-full p-3 border border-gray-300 rounded-lg outline-none" placeholder="Ex: Nelore"></div>
                        </div>
                    </div>

                    <div class="mt-4">
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Descri√ß√£o Detalhada</label>
                        <textarea class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-agro-500 outline-none h-32 resize-none" placeholder="Descreva os detalhes importantes, estado de conserva√ß√£o, aceita troca, etc..."></textarea>
                    </div>

                </div>

                <div class="p-6 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 rounded-b-2xl">
                    <button onclick="closeAnuncioModal()" class="px-6 py-3 font-bold text-slate-500 hover:bg-gray-200 rounded-lg transition">Cancelar</button>
                    <button class="px-8 py-3 bg-agro-600 hover:bg-agro-700 text-white font-bold rounded-lg shadow-lg transition transform active:scale-95">Publicar An√∫ncio</button>
                </div>
            </div>
        </div>
    </div>

    <div id="modalSimulador" class="fixed inset-0 z-[100] hidden"><div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeSimulator()"></div><div class="absolute inset-0 flex items-center justify-center p-4"><div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden relative fade-in-step"><div class="bg-agro-600 p-6 text-white text-center relative"><button onclick="closeSimulator()" class="absolute top-4 right-4 text-white/70 hover:text-white"><i class="fas fa-times text-xl"></i></button><h3 class="text-2xl font-black" id="welcomeTitle">Ol√°, bem-vindo(a)!</h3><p class="text-agro-100 text-sm mt-1">Simula√ß√£o Inteligente de Cr√©dito</p></div><div class="p-8"><div id="mensagemErro" class="text-red-500 font-bold text-center text-sm mb-4"></div><div id="step1" class="input-step text-center"><p class="text-slate-600 font-bold mb-4 text-lg">Qual seu nome completo?</p><input type="text" id="nomeCliente" class="w-full border-b-2 border-gray-300 focus:border-agro-500 outline-none text-2xl text-center pb-2 font-bold text-slate-800" placeholder="Seu nome"><button onclick="validateStep1()" class="mt-8 w-full bg-agro-600 hover:bg-agro-700 text-white font-bold py-4 rounded-xl shadow-lg">Continuar <i class="fas fa-arrow-right ml-2"></i></button></div><div id="step2" class="input-step hidden text-center"><p class="text-slate-600 font-bold mb-4 text-lg">De onde voc√™ √©?</p><input type="text" id="localizacao" class="w-full border-b-2 border-gray-300 focus:border-agro-500 outline-none text-2xl text-center pb-2 font-bold text-slate-800" placeholder="Cidade - Estado"><div class="flex gap-3 mt-8"><button onclick="showNextStep('step1')" class="flex-1 bg-gray-100 text-gray-500 font-bold py-4 rounded-xl">Voltar</button><button onclick="validateStep2()" class="flex-[2] bg-agro-600 text-white font-bold py-4 rounded-xl shadow-lg">Continuar</button></div></div><div id="step3" class="input-step hidden text-center"><p class="text-slate-600 font-bold mb-4 text-lg">Qual o seu objetivo?</p><div class="space-y-3"><select id="categoria" class="w-full p-4 border border-gray-300 rounded-xl font-bold text-slate-700 bg-white focus:ring-2 focus:ring-agro-500 outline-none"><option value="" disabled selected>Selecione uma op√ß√£o...</option><option value="maquinas">üöú M√°quinas / Tratores</option><option value="rural">üåæ Terras / S√≠tios</option><option value="caminhoes">üöõ Caminh√µes / Frota</option><option value="carro_moto">üöó Carros / Motos</option><option value="imoveis">üè† Im√≥veis Urbanos</option><option value="solar">‚òÄÔ∏è Energia Solar</option></select></div><div class="flex gap-3 mt-8"><button onclick="showNextStep('step2')" class="flex-1 bg-gray-100 text-gray-500 font-bold py-4 rounded-xl">Voltar</button><button onclick="showNextStep('step4')" class="flex-[2] bg-agro-600 text-white font-bold py-4 rounded-xl shadow-lg">Continuar</button></div></div><div id="step4" class="input-step hidden text-center"><p class="text-slate-600 font-bold mb-2 text-lg">Qual o valor do cr√©dito?</p><p class="text-xs text-gray-400 mb-6">Valor do bem que deseja comprar</p><div class="relative"><span class="absolute left-0 top-1 text-2xl font-bold text-slate-400">R$</span><input type="tel" id="vlrCredito" oninput="formatarInput(this)" class="w-full border-b-2 border-gray-300 focus:border-agro-500 outline-none text-3xl text-right pb-2 font-bold text-slate-800" placeholder="0,00"></div><div class="flex gap-3 mt-8"><button onclick="showNextStep('step3')" class="flex-1 bg-gray-100 text-gray-500 font-bold py-4 rounded-xl">Voltar</button><button onclick="validateStep4()" class="flex-[2] bg-agro-600 text-white font-bold py-4 rounded-xl shadow-lg">Continuar</button></div></div><div id="step5" class="input-step hidden text-center"><p class="text-slate-600 font-bold mb-2 text-lg">Quanto quer dar de entrada?</p><p class="text-xs text-gray-400 mb-6">Recomendado: 10% a 30%</p><div class="relative"><span class="absolute left-0 top-1 text-2xl font-bold text-slate-400">R$</span><input type="tel" id="vlrEntrada" oninput="formatarInput(this)" class="w-full border-b-2 border-gray-300 focus:border-agro-500 outline-none text-3xl text-right pb-2 font-bold text-slate-800" placeholder="0,00"></div><div class="flex gap-3 mt-8"><button onclick="showNextStep('step4')" class="flex-1 bg-gray-100 text-gray-500 font-bold py-4 rounded-xl">Voltar</button><button onclick="validateStep5()" class="flex-[2] bg-agro-600 text-white font-bold py-4 rounded-xl shadow-lg">Continuar</button></div></div><div id="step6" class="input-step hidden text-center"><p class="text-slate-600 font-bold mb-2 text-lg">Quanto quer pagar por m√™s?</p><p class="text-xs text-gray-400 mb-6">Defina a parcela que cabe no bolso</p><div class="relative"><span class="absolute left-0 top-1 text-2xl font-bold text-slate-400">R$</span><input type="tel" id="vlrParcela" oninput="formatarInput(this)" class="w-full border-b-2 border-gray-300 focus:border-agro-500 outline-none text-3xl text-right pb-2 font-bold text-slate-800" placeholder="0,00"></div><div class="flex gap-3 mt-8"><button onclick="showNextStep('step5')" class="flex-1 bg-gray-100 text-gray-500 font-bold py-4 rounded-xl">Voltar</button><button onclick="calcularProposta()" class="flex-[2] bg-terra-500 hover:bg-terra-600 text-white font-bold py-4 rounded-xl shadow-lg">CALCULAR AGORA</button></div></div><div id="resultsBox" class="hidden"><div class="bg-gray-50 rounded-xl p-4 mb-6 border border-gray-200 text-sm"><div class="flex justify-between py-1 border-b border-gray-200"><span>Cliente:</span> <span class="font-bold text-slate-800" id="resultadoNomeCliente"></span></div><div class="flex justify-between py-1 border-b border-gray-200"><span>Local:</span> <span class="font-bold text-slate-800" id="resultadoLocalizacao"></span></div><div class="flex justify-between py-1 border-b border-gray-200"><span>Bem:</span> <span class="font-bold text-slate-800" id="resultadoCategoria"></span></div><div class="flex justify-between py-1 pt-3 text-agro-600"><span>Cr√©dito:</span> <span class="font-bold text-lg" id="resultadoCredito"></span></div><div class="flex justify-between py-1"><span>Entrada:</span> <span class="font-bold text-slate-800" id="resultadoVlrEntrada"></span></div><div class="flex justify-between py-1 pt-3 text-slate-900 bg-yellow-50 px-2 -mx-2 rounded"><span>Parcela Sugerida:</span> <span class="font-bold text-lg" id="resultadoParcela"></span></div><div class="flex justify-between py-1 mt-2"><span>Prazo Estimado:</span> <span class="font-bold text-slate-800" id="resultadoPrazo"></span></div><div class="hidden"><span id="resultadoPercEntrada"></span><span id="resultadoVlrTaxa"></span><span id="resultadoTaxaPerc"></span><span id="resultadoDividaBruta"></span><span id="resultadoSaldoDevedor"></span></div></div><a id="actionButton" href="#" target="_blank" class="block w-full bg-green-500 hover:bg-green-600 text-white text-center font-bold py-4 rounded-xl shadow-lg btn-pulse transition"><i class="fab fa-whatsapp mr-2 text-xl"></i> Formalizar no WhatsApp</a><button onclick="resetSimulation()" class="block w-full text-center text-gray-400 text-xs font-bold mt-4 hover:text-gray-600">Nova Simula√ß√£o</button></div></div></div></div></div>

    <footer class="bg-white border-t border-gray-200 pt-12 pb-8 mt-auto">
        <div class="max-w-7xl mx-auto px-4"><div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8"><div><div class="flex items-center gap-2 mb-4"><i class="fas fa-leaf text-agro-600 text-xl"></i><span class="font-black text-xl text-slate-900">DoTerra</span></div><p class="text-sm text-gray-500">CNPJ: 00.000.000/0001-00</p><p class="text-sm text-gray-500">Av. Carlos Gomes, Porto Velho - RO</p></div><div><h4 class="font-bold text-slate-900 mb-3">Comprar</h4><ul class="text-sm text-gray-500 space-y-2"><li><a href="#" class="hover:text-agro-600">Tratores</a></li><li><a href="#" class="hover:text-agro-600">Caminhonetes</a></li><li><a href="#" class="hover:text-agro-600">Fazendas</a></li></ul></div><div><h4 class="font-bold text-slate-900 mb-3">Servi√ßos</h4><ul class="text-sm text-gray-500 space-y-2"><li><a href="#" class="hover:text-agro-600">Simular Cons√≥rcio</a></li><li><a href="#" class="hover:text-agro-600">Vender Ativo</a></li><li><a href="#" class="hover:text-agro-600">Tabela Fipe</a></li></ul></div><div><h4 class="font-bold text-slate-900 mb-3">Ajuda</h4><ul class="text-sm text-gray-500 space-y-2"><li><a href="#" class="hover:text-agro-600">Fale Conosco</a></li><li><a href="login.html" class="flex items-center gap-1 text-slate-400 hover:text-agro-600 font-bold"><i class="fas fa-lock text-xs"></i> √Årea Restrita</a></li></ul></div></div><div class="border-t border-gray-100 pt-8 text-center"><p class="text-xs text-gray-400">&copy; 2026 DoTerra Marketplace. Todos os direitos reservados.</p></div></div>
    </footer>

    <a href="https://wa.me/5569992000000" target="_blank" class="fixed bottom-6 left-6 z-40 bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full shadow-2xl flex items-center justify-center transition transform hover:-translate-y-1 btn-pulse"><i class="fab fa-whatsapp text-3xl"></i></a>

    <script>
        // --- UX / NAVEGA√á√ÉO ---
        function toggleMenu() {
            const menu = document.getElementById('sideMenu');
            const overlay = document.getElementById('menuOverlay');
            if (menu.classList.contains('translate-x-full')) {
                menu.classList.remove('translate-x-full'); overlay.classList.remove('hidden'); setTimeout(() => overlay.classList.remove('opacity-0'), 10); document.body.style.overflow = 'hidden';
            } else {
                menu.classList.add('translate-x-full'); overlay.classList.add('opacity-0'); setTimeout(() => overlay.classList.add('hidden'), 300); document.body.style.overflow = '';
            }
        }

        function activateTab(el, type) {
            document.querySelectorAll('.search-tab').forEach(t => t.classList.remove('active', 'border-b-4', 'border-agro-600', 'text-agro-700'));
            el.classList.add('active', 'border-b-4', 'border-agro-600', 'text-agro-700');
            if(type === 'buy') document.querySelector('input[placeholder="Digite marca, modelo ou tipo..."]').focus();
        }

        function openSimulator() { document.getElementById('modalSimulador').classList.remove('hidden'); document.body.style.overflow = 'hidden'; resetSimulation(); }
        function closeSimulator() { document.getElementById('modalSimulador').classList.add('hidden'); document.body.style.overflow = ''; }

        // --- L√ìGICA DO MODAL AN√öNCIO (DIN√ÇMICO) ---
        function openAnuncioModal() { document.getElementById('modalAnuncio').classList.remove('hidden'); document.body.style.overflow = 'hidden'; }
        function closeAnuncioModal() { document.getElementById('modalAnuncio').classList.add('hidden'); document.body.style.overflow = ''; }

        function updateFormFields() {
            const category = document.getElementById('anuncioCategoria').value;
            const dynamicContainer = document.getElementById('dynamicFields');
            const condition = document.getElementById('fieldCondition');
            
            // Esconder tudo primeiro
            ['fieldsVeiculo', 'fieldsMaquina', 'fieldsImovel', 'fieldsGado'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            condition.classList.add('hidden');

            // Mostrar baseando na escolha
            if (category === 'veiculo') {
                document.getElementById('fieldsVeiculo').classList.remove('hidden');
                condition.classList.remove('hidden');
            } else if (category === 'maquina') {
                document.getElementById('fieldsMaquina').classList.remove('hidden');
                condition.classList.remove('hidden');
            } else if (category === 'imovel') {
                document.getElementById('fieldsImovel').classList.remove('hidden');
            } else if (category === 'gado') {
                document.getElementById('fieldsGado').classList.remove('hidden');
            }
        }

        // --- L√ìGICA DO SIMULADOR (COPIADA DA VERS√ÉO ANTERIOR) ---
        const MAPA_DE_TAXAS = { 'rural': 17.5, 'imoveis': 20.5, 'carro_moto': 20, 'caminhoes': 17.5, 'maquinas': 17.5, 'servicos': 20.5, 'capital_giro': 20.5, 'default': 20.5 };
        const WHATSAPP_NUMBER_DEFAULT = "5569992000000"; 

        function getWhatsAppNumberFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            let wpp = urlParams.get('wpp');
            return (wpp) ? wpp.replace(/\D/g, '') : WHATSAPP_NUMBER_DEFAULT;
        }

        function showNextStep(nextStepId) {
            document.getElementById('mensagemErro').textContent = ''; 
            document.getElementById('resultsBox').style.display = 'none';
            document.querySelectorAll('.input-step').forEach(step => step.style.display = 'none');
            const nextStep = document.getElementById(nextStepId);
            if (nextStep) { nextStep.style.display = 'block'; nextStep.classList.add('fade-in-step'); }
        }

        function resetSimulation() {
            document.getElementById('nomeCliente').value = ''; document.getElementById('localizacao').value = ''; document.getElementById('categoria').value = ''; document.getElementById('vlrCredito').value = ''; document.getElementById('vlrEntrada').value = ''; document.getElementById('vlrParcela').value = ''; document.getElementById('welcomeTitle').textContent = 'Ol√°, bem-vindo(a)!'; showNextStep('step1');
        }

        function exibirErro(mensagem) { document.getElementById('resultsBox').style.display = 'none'; document.getElementById('mensagemErro').textContent = mensagem; }
        function formatarInput(input) { let valor = input.value.replace(/\D/g, ''); let numero = valor ? parseInt(valor) / 100 : 0; input.value = numero.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 }); }
        function parseMonetary(valorString) { let valorLimpo = valorString.replace(/\./g, '').replace(/,/g, '.'); return parseFloat(valorLimpo) || 0; }
        const formatarMoeda = (valor) => { if (typeof valor !== 'number' || isNaN(valor)) return 'R$ 0,00'; return valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }); };
        function obterTaxa(categoria) { const taxaPerc = MAPA_DE_TAXAS[categoria] || MAPA_DE_TAXAS['default']; return { percentual: taxaPerc, decimal: taxaPerc / 100 }; }

        function validateStep1() { const nome = document.getElementById('nomeCliente').value.trim(); if (nome.length < 3) { exibirErro("Por favor, digite seu nome completo."); return; } document.getElementById('welcomeTitle').textContent = `Muito prazer, ${nome.split(' ')[0]}!`; showNextStep('step2'); }
        function validateStep2() { const local = document.getElementById('localizacao').value.trim(); if (local.length < 3) { exibirErro("Informe sua Cidade/Estado."); return; } document.getElementById('welcomeTitle').textContent = 'Simulador de Proposta'; showNextStep('step3'); }
        function validateStep4() { const vlr = parseMonetary(document.getElementById('vlrCredito').value); if (vlr <= 0) { exibirErro("Valor inv√°lido."); return; } showNextStep('step5'); }
        function validateStep5() { const V_CREDITO = parseMonetary(document.getElementById('vlrCredito').value); const V_ENTRADA = parseMonetary(document.getElementById('vlrEntrada').value); document.getElementById('mensagemErro').textContent = ''; const MIN_ENTRADA = V_CREDITO * 0.10; const MAX_ENTRADA = V_CREDITO * 0.30; if (V_ENTRADA > 0) { if (V_ENTRADA < MIN_ENTRADA || V_ENTRADA > MAX_ENTRADA) { exibirErro(`Entrada deve ser entre ${formatarMoeda(MIN_ENTRADA)} e ${formatarMoeda(MAX_ENTRADA)}.`); return; } } showNextStep('step6'); }

        function calcularProposta() {
            const NOME = document.getElementById('nomeCliente').value; const LOCAL = document.getElementById('localizacao').value; const CAT_EL = document.getElementById('categoria'); const CATEGORIA = CAT_EL.options[CAT_EL.selectedIndex].text; const V_CREDITO = parseMonetary(document.getElementById('vlrCredito').value); const V_ENTRADA = parseMonetary(document.getElementById('vlrEntrada').value); const V_PARCELA = parseMonetary(document.getElementById('vlrParcela').value); const TAXA = obterTaxa(CAT_EL.value);
            if (V_CREDITO <= 0 || V_PARCELA <= 0) { exibirErro("Valores inv√°lidos."); return; }
            const V_TOTAL = V_CREDITO * (1 + TAXA.decimal); const V_DEVEDOR = V_TOTAL - V_ENTRADA; const MESES = Math.ceil(V_DEVEDOR / V_PARCELA);
            document.getElementById('mensagemErro').textContent = ''; document.getElementById('step6').style.display = 'none'; document.getElementById('resultsBox').style.display = 'block'; document.getElementById('welcomeTitle').textContent = 'Resultado da Proposta';
            document.getElementById('resultadoNomeCliente').textContent = NOME; document.getElementById('resultadoLocalizacao').textContent = LOCAL; document.getElementById('resultadoCategoria').textContent = CATEGORIA; document.getElementById('resultadoCredito').textContent = formatarMoeda(V_CREDITO); document.getElementById('resultadoVlrEntrada').textContent = formatarMoeda(V_ENTRADA); document.getElementById('resultadoParcela').textContent = formatarMoeda(V_PARCELA); document.getElementById('resultadoPrazo').textContent = `${MESES} meses`;
            const linkButton = document.getElementById('actionButton'); const msg = `*SIMULA√á√ÉO DOTERRA*\n\nOl√°, sou *${NOME}* de ${LOCAL}.\nInteresse: ${CATEGORIA}\nCr√©dito: ${formatarMoeda(V_CREDITO)}\nEntrada: ${formatarMoeda(V_ENTRADA)}\nParcela Desejada: ${formatarMoeda(V_PARCELA)}\nPrazo Est.: ${MESES} meses.\n\nGostaria de verificar disponibilidade.`; linkButton.href = `https://api.whatsapp.com/send?phone=${getWhatsAppNumberFromUrl()}&text=${encodeURIComponent(msg)}`;
        }
    </script>
</body>
</html>
